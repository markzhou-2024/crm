<view class="page purchase-list">
  <view class="nav-bar" style="height: {{navBarHeight}}px; padding-top: {{statusBarHeight}}px">
    <view class="back-area" bindtap="goBack">
      <view class="back-icon">‹</view>
    </view>
    <view class="title">购卡记录</view>
    <view class="right-area"></view>
  </view>

  <scroll-view scroll-y class="page-scroll" style="padding-top: {{navBarHeight}}px">
    <view class="summary card">
      <view class="summary-title">数据摘要</view>
      <view class="summary-sub">共有 {{list.length}} 条购卡记录</view>
    </view>

    <view class="purchase-cards">
      <block wx:if="{{list.length}}">
        <block wx:for="{{list}}" wx:key="id">
          <view class="purchase-card card">
            <view class="card-header">
              <view class="product">{{item.productName}}</view>
              <view class="amount">¥{{item.amountPaid}}</view>
            </view>
            <view class="card-body">
              <view class="row">
                <view class="label">顾客</view>
                <view class="value">{{item.customerName}}</view>
              </view>
              <view class="row">
                <view class="label">门店</view>
                <view class="value">{{item.storeName}}</view>
              </view>
              <view class="row">
                <view class="label">购卡日期</view>
                <view class="value">{{item.purchaseDate}}</view>
              </view>
            </view>
          </view>
        </block>
      </block>
      <view class="empty-state" wx:else>暂无购卡数据</view>
    </view>
  </scroll-view>

  <view class="fab" bindtap="goCreate">
    <view class="plus">＋</view>
    <view>录入购卡</view>
  </view>
</view>
