<view class="page consume-list">
  <view class="nav-bar" style="height: {{navBarHeight}}px; padding-top: {{statusBarHeight}}px">
    <view class="back-area" bindtap="goBack">
      <view class="back-icon">‹</view>
    </view>
    <view class="title">项目消耗</view>
    <view class="right-area"></view>
  </view>

  <scroll-view scroll-y class="page-scroll" style="padding-top: {{navBarHeight}}px">
    <view class="summary card">
      <view class="summary-title">核销总览</view>
      <view class="summary-sub">共有 {{list.length}} 条消耗记录</view>
    </view>

    <view class="consume-cards">
      <block wx:if="{{list.length}}">
        <block wx:for="{{list}}" wx:key="id">
          <view class="consume-card card">
            <view class="card-header">
              <view class="service">
                <view class="service-name">{{item.serviceName}}</view>
                <view class="service-sub">{{item.serviceSubName}}</view>
              </view>
              <view class="times">-{{item.times || 1}} 次</view>
            </view>
            <view class="card-body">
              <view class="row">
                <view class="label">顾客</view>
                <view class="value">{{item.customerName}}</view>
              </view>
              <view class="row">
                <view class="label">门店</view>
                <view class="value">{{item.storeName}}</view>
              </view>
              <view class="row">
                <view class="label">核销日期</view>
                <view class="value">{{item.date}}</view>
              </view>
            </view>
          </view>
        </block>
      </block>
      <view class="empty-state" wx:else>暂无项目消耗记录</view>
    </view>
  </scroll-view>

  <view class="fab" bindtap="goCreate">
    <view class="plus">＋</view>
    <view>登记消耗</view>
  </view>
</view>
